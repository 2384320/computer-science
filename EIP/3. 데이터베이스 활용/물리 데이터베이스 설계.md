# 물리 데이터베이스 설계

> 저장 레코드의 양식 설계, 레코드 집중의 분석 및 설계, 접근 경로 설계 등 논리적 데이터베이스를 디스크 등의 물리적 저장장치에 저장할 수 있는 물리적 구조로 변환하는 과정

## 고려사항

- 인덱스 구조
- 레코드 크기
- 파일에 존재하는 레코드 수
- 파일에 대한 트랜잭션의 갱신과 참조 성향
- 성능 향상을 위한 개념 스키마의 변경 여부 검토
- 번번한 질의와 트랜잭션들의 수행속도를 높이기 위한 고려
- 시스템 운용 시 파일 크기의 변화 가능성

## 기존 시스템 분석

### 데이터 명명 규칙 파악

- 데이터 용어 사전의 내용은 논리에서 물리 전환 시 명칭 부여의 근거가 돼야 함.
- 중복 등의 혼란을 방지해야 함.
- 물리 데이터베이스 설계와 논리 데이터베이스 설계에 적용되는 명명규칙은 서로 일관성을 유지해야 함.
- 규칙을 파악하기 위해선 도메인과 데이터 사전에 대한 지식이 필요함.

### 시스템 자원 파악

- 데이터베이스 설치에 영향을 미칠 수 있는 물리적인 요소들로 사전에 미리 파악해야 함
- 하드웨어 자원, 운영체제 및 DBMS 버전, DBMS 파라미터 정보 등으로 구분됨.

### 데이터베이스 관리 요소 파악

- 데이터베이스 운영과 관련된 관리 요소로, 데이터베이스 시스템 환경에 따라 달라질 수 있으므로 미리 파악해야 함.

## 데이터베이스 저장공간 설계

- 데이터베이스를 테이블, 테이블 스페이스, 데이터 파일로 나누어 관리하면 논리적 구성이 물러적 구성에 종속되지 않아 투명성이 보장됨.

### 테이블

> 데이터베이스의 모든 데이터를 저장하는 객체

- 로우(Row, 행)와 컬럼(Column, 열)로 구성됨.
- 논리 설계 단계의 개체에 대응함.
- 테이블은 개체, 컬럼은 속성에 대응함.

#### 테이블 종류

- 일반 테이블(표준 테이블): 행과 열로 구성된 기본 테이블이며, 모든 데이터는 테이블에 저장됨.
- 클러스터드 인덱스 테이블
  - 기본키, 인덱스의 순서를 기반으로 저장됨.
  - 데이터를 추가할 때 큰 비용(시간) 발생
  - 프리패치 가능 = 탐색 속도가 증가함.
- 파티셔닝 테이블: 대용량 테이블을 작은 논리적 단위(범위 분할, 해시 분할, 조합 분할 등)인 파티션(Partition)으로 나눈 테이블
  - [파티셔닝 테이블에 대한 내용](https://github.com/2384320/computer-science/blob/main/EIP/3.%20%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4%20%ED%99%9C%EC%9A%A9/%ED%8C%8C%ED%8B%B0%EC%85%98.md#%EC%A2%85%EB%A5%98)
- 임시 테이블
  - 임시 테이블에 저장된 데이터는 트랜잭션이 종료되면 삭제됨.
  - 절차적 처리를 위해 임시로 사용하는 테이블
  - 트랜잭션 및 섹션 별 데이터 처리
  - 휘발성 O, 공유 불가
- 외부 테이블
  - 데이터 웨어하우스에서 사용함.
  - ETL: 데이터 웨어하우스를 사용하여 추출(Extract), 변환(Transform), 적재(Load)하는 일련의 모든 과정

### 컬럼

- 데이터 타입과 길이로 정의됨.
- 상호 참조 시 호환 가능해야 함.
- 고정 길이, Not Null인 열을 앞쪽으로 배치함.
- 가변 길이, Null 값이 많을 것으로 예상되는 열을 뒤쪽으로 배치함.

### 테이블 스페이스

- 테이블들을 논리적으로 그룹화한 영역
- 물리적으로는 데이터 파일에, 논리적으로는 테이블 스페이스에 저장함.
- 하나의 테이블 스페이스에 하나 또는 그 이상의 테이블 저장 가능함.
- 테이블 스페이스는 하나 또는 여러 개의 데이터 파일을 가짐.
- 테이블과 인덱스는 분리하여 저장함.

# 참고 자료

- [\[2021 정보처리기사-3과목\] 물리 데이터베이스 설계](https://y-oni.tistory.com/entry/2021-%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC-3%EA%B3%BC%EB%AA%A9-%EB%AC%BC%EB%A6%AC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%84%A4%EA%B3%84?category=934884)
